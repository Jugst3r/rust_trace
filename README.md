# rust_trace

The trace produced is kept in hello.trace, but you should be able to collect
it if you have everything needed, which is as followed.

Producing a trace requires to:
* Modify the build.rs build script, as for conveniency it is populated with the
  gnatcov runtime absolute path (so change the gnatcov\_rts\_include\_path and
  the gnatcov\_rts\_c\_path it to make them point to your version of the 
  gnatcov\_rts).
  
* Have the C version of the gnatcov runtime (which is not stable yet, and not
  even in gnatcov)

Then running `make` should be enough to get a trace.

Note that the instrumented sources, and the C buffer compilation units were
generated by hand, as well as the file wrapper.h, that is used to produce
Rust bindings to all the needed symbols (buffer symbols, as well as runtime
functions).
